<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Detalhes | NeuroLearn</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* VARI√ÅVEIS E RESET */
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --dark: #0f172a;
            --light: #f8fafc;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-dark: rgba(15, 23, 42, 0.7);
            --border-glow: rgba(99, 102, 241, 0.3);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 20px 50px rgba(99, 102, 241, 0.3);
            --radius: 20px;
            --radius-small: 12px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--light);
            min-height: 100vh;
            padding-bottom: 80px;
        }

        /* NAVBAR */
        .navbar {
            background: var(--glass-dark);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-glow);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 15px 20px;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-decoration: none;
        }

        .logo i {
            font-size: 1.8rem;
        }

        .nav-actions {
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--glass);
            border: 1px solid var(--border-glow);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
            position: relative;
        }

        .nav-btn:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            min-width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 5px;
        }

        /* CONTE√öDO PRINCIPAL */
        .product-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 40px;
        }

        /* BREADCRUMB */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
            font-size: 0.9rem;
            color: #94a3b8;
        }

        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }

        .breadcrumb a:hover {
            color: var(--secondary);
        }

        .breadcrumb i {
            font-size: 0.8rem;
        }

        /* LAYOUT DO PRODUTO */
        .product-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
        }

        @media (min-width: 992px) {
            .product-layout {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* SE√á√ÉO DA ESQUERDA */
        .product-media {
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .product-image-main {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, #334155, #475569);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6rem;
            color: var(--primary);
            margin-bottom: 20px;
            border: 2px solid var(--border-glow);
        }

        .product-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--secondary);
            color: var(--dark);
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }

        .product-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        /* SE√á√ÉO DA DIREITA */
        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: clamp(1.8rem, 3vw, 2.5rem);
            font-weight: 800;
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .product-meta {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .rating {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #fbbf24;
        }

        .rating-count {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .downloads {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--secondary);
        }

        .course-badge {
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary);
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* PRE√áO */
        .price-section {
            background: var(--glass);
            border-radius: var(--radius);
            padding: 25px;
            margin: 30px 0;
            border: 1px solid var(--border-glow);
        }

        .price-old {
            font-size: 1.2rem;
            color: #94a3b8;
            text-decoration: line-through;
            margin-bottom: 5px;
        }

        .price-new {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .price-save {
            color: #10b981;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* A√á√ïES DE COMPRA */
        .buy-actions {
            margin: 40px 0;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 30px 0;
        }

        .qty-btn {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-small);
            background: var(--glass);
            border: 1px solid var(--border-glow);
            color: var(--light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .qty-btn:hover {
            background: rgba(99, 102, 241, 0.2);
        }

        .qty-display {
            font-size: 1.5rem;
            font-weight: 600;
            min-width: 60px;
            text-align: center;
        }

        /* TABS DE INFORMA√á√ÉO */
        .info-tabs {
            margin-top: 50px;
        }

        .tab-headers {
            display: flex;
            gap: 10px;
            border-bottom: 1px solid var(--border-glow);
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-header {
            padding: 15px 25px;
            background: transparent;
            border: none;
            color: #94a3b8;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .tab-header.active {
            color: var(--primary);
        }

        .tab-header.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }

        .tab-header:hover:not(.active) {
            color: var(--light);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        .description-content {
            line-height: 1.8;
            color: #cbd5e1;
        }

        /* LISTA DE CONTE√öDO */
        .content-list {
            list-style: none;
            padding: 0;
        }

        .content-item {
            padding: 15px;
            margin-bottom: 10px;
            background: var(--glass);
            border-radius: var(--radius-small);
            border-left: 4px solid var(--primary);
        }

        .content-item i {
            margin-right: 10px;
            color: var(--secondary);
        }

        /* V√çDEO */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: var(--radius);
            margin: 20px 0;
            background: var(--glass);
            border: 1px solid var(--border-glow);
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 4rem;
        }

        .video-placeholder p {
            font-size: 1.2rem;
            margin-top: 20px;
            color: #94a3b8;
        }

        /* AVALIA√á√ïES */
        .reviews-container {
            display: grid;
            gap: 20px;
        }

        .review-item {
            background: var(--glass);
            border-radius: var(--radius-small);
            padding: 20px;
            border: 1px solid var(--border-glow);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .review-author {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .author-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* PRODUTOS RELACIONADOS */
        .related-products {
            margin-top: 80px;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        /* BARRA INFERIOR */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--glass-dark);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--border-glow);
            display: flex;
            justify-content: space-around;
            padding: 15px 10px;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #94a3b8;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: var(--radius-small);
            transition: var(--transition);
            position: relative;
        }

        .nav-item.active {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .nav-item:hover {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .nav-item i {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .nav-label {
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* BOT√ïES */
        .btn-primary, .btn-secondary, .btn-outline {
            padding: 16px 30px;
            border-radius: var(--radius-small);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1rem;
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--border-glow);
            color: var(--light);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
        }

        .btn-outline:hover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        /* ANIMA√á√ïES */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* RESPONSIVIDADE */
        @media (max-width: 768px) {
            .product-image-main {
                height: 300px;
                font-size: 4rem;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .product-actions {
                grid-template-columns: 1fr;
            }
            
            .tab-headers {
                flex-direction: column;
            }
            
            .tab-header {
                text-align: left;
                justify-content: flex-start;
            }
            
            .nav-label {
                display: none;
            }
            
            .nav-item {
                padding: 10px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (min-width: 769px) and (max-width: 991px) {
            .product-layout {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-content">
            <a href="catalogo.html" class="nav-btn">
                <i class="fas fa-arrow-left"></i>
            </a>
            
            <a href="index.html" class="logo">
                <i class="fas fa-brain"></i>
                <span>Detalhes</span>
            </a>
            
            <div class="nav-actions">
                <a href="carrinho.html" class="nav-btn">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge" id="cartCount">0</span>
                </a>
                <a href="conta.html" class="nav-btn">
                    <i class="fas fa-user"></i>
                </a>
            </div>
        </div>
    </nav>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="product-container">
        <!-- BREADCRUMB -->
        <div class="breadcrumb" id="breadcrumb">
            <a href="index.html">
                <i class="fas fa-home"></i> Home
            </a>
            <i class="fas fa-chevron-right"></i>
            <a href="catalogo.html" id="courseLink">Cat√°logo</a>
            <i class="fas fa-chevron-right"></i>
            <span id="productTitleShort">Carregando...</span>
        </div>

        <!-- LAYOUT DO PRODUTO -->
        <div class="product-layout">
            <!-- SE√á√ÉO DA ESQUERDA - M√çDIA -->
            <div class="product-media">
                <div class="product-image-main" id="productImage">
                    <!-- Imagem ser√° carregada via JS -->
                </div>
                
                <div class="product-actions">
                    <button class="btn-outline" id="shareBtn">
                        <i class="fas fa-share-alt"></i> Compartilhar
                    </button>
                    <button class="btn-outline" id="wishlistBtn">
                        <i class="fas fa-heart"></i> Favoritar
                    </button>
                </div>
            </div>

            <!-- SE√á√ÉO DA DIREITA - INFORMA√á√ïES -->
            <div class="product-info">
                <!-- BADGE DE PROMO√á√ÉO -->
                <div id="productBadge" class="product-badge" style="display: none;">
                    PROMO√á√ÉO
                </div>

                <!-- T√çTULO E META -->
                <h1 class="product-title" id="productTitle">Carregando...</h1>
                
                <div class="product-meta">
                    <div class="rating" id="productRating">
                        <i class="fas fa-star"></i>
                        <span>4.5</span>
                    </div>
                    <div class="downloads" id="productDownloads">
                        <i class="fas fa-download"></i>
                        <span>1,245 downloads</span>
                    </div>
                    <div class="course-badge" id="productCourse">
                        Enfermagem
                    </div>
                </div>

                <!-- DESCRI√á√ÉO CURTA -->
                <p class="description-content" id="productDescriptionShort">
                    Carregando descri√ß√£o...
                </p>

                <!-- PRE√áO -->
                <div class="price-section">
                    <div class="price-old" id="priceOld" style="display: none;">
                        200 MT
                    </div>
                    <div class="price-new" id="priceNew">
                        150 MT
                    </div>
                    <div class="price-save" id="priceSave" style="display: none;">
                        Economize 50 MT (25%)
                    </div>
                </div>

                <!-- A√á√ïES DE COMPRA -->
                <div class="buy-actions">
                    <!-- QUANTIDADE -->
                    <div class="quantity-selector">
                        <button class="qty-btn" id="decreaseQty">
                            <i class="fas fa-minus"></i>
                        </button>
                        <div class="qty-display" id="quantity">1</div>
                        <button class="qty-btn" id="increaseQty">
                            <i class="fas fa-plus"></i>
                        </button>
                        <div style="margin-left: auto; color: #94a3b8;">
                            <i class="fas fa-box"></i> Dispon√≠vel: <span id="stockStatus">Em estoque</span>
                        </div>
                    </div>

                    <!-- BOT√ïES DE A√á√ÉO -->
                    <div class="action-buttons">
                        <button class="btn-primary pulse" id="addToCartBtn">
                            <i class="fas fa-cart-plus"></i>
                            Adicionar ao Carrinho
                        </button>
                        <button class="btn-secondary" id="buyNowBtn">
                            <i class="fas fa-bolt"></i>
                            Comprar Agora
                        </button>
                    </div>
                </div>

                <!-- TABS DE INFORMA√á√ÉO -->
                <div class="info-tabs">
                    <div class="tab-headers">
                        <button class="tab-header active" data-tab="description">
                            <i class="fas fa-file-alt"></i> Descri√ß√£o
                        </button>
                        <button class="tab-header" data-tab="content">
                            <i class="fas fa-list-ol"></i> Conte√∫do
                        </button>
                        <button class="tab-header" data-tab="video">
                            <i class="fas fa-play-circle"></i> V√≠deo
                        </button>
                        <button class="tab-header" data-tab="reviews">
                            <i class="fas fa-star"></i> Avalia√ß√µes
                        </button>
                    </div>

                    <!-- DESCRI√á√ÉO -->
                    <div class="tab-content active" id="descriptionTab">
                        <div class="description-content" id="productDescriptionFull">
                            Carregando descri√ß√£o completa...
                        </div>
                    </div>

                    <!-- CONTE√öDO PROGRAM√ÅTICO -->
                    <div class="tab-content" id="contentTab">
                        <ul class="content-list" id="contentList">
                            <!-- Conte√∫do ser√° carregado via JS -->
                        </ul>
                    </div>

                    <!-- V√çDEO EXPLICATIVO -->
                    <div class="tab-content" id="videoTab">
                        <div class="video-container" id="videoContainer">
                            <div class="video-placeholder" id="videoPlaceholder">
                                <i class="fas fa-play-circle"></i>
                                <p>V√≠deo explicativo dispon√≠vel</p>
                            </div>
                        </div>
                        <p style="text-align: center; color: #94a3b8; margin-top: 15px;">
                            Assista √† explica√ß√£o detalhada deste m√≥dulo
                        </p>
                    </div>

                    <!-- AVALIA√á√ïES -->
                    <div class="tab-content" id="reviewsTab">
                        <div class="reviews-container" id="reviewsContainer">
                            <div class="review-item">
                                <div class="review-header">
                                    <div class="review-author">
                                        <div class="author-avatar">
                                            <i class="fas fa-user"></i>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600;">Maria Silva</div>
                                            <div style="font-size: 0.9rem; color: #94a3b8;">
                                                15/02/2024
                                            </div>
                                        </div>
                                    </div>
                                    <div style="color: #fbbf24;">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                                <p>
                                    Material excelente! Conte√∫do muito bem organizado e explicativo. 
                                    Me ajudou muito na prepara√ß√£o para as provas.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PRODUTOS RELACIONADOS -->
        <section class="related-products">
            <h2 class="section-title">
                <i class="fas fa-link"></i> Produtos Relacionados
            </h2>
            <div class="products-grid" id="relatedProducts">
                <!-- Produtos relacionados ser√£o carregados via JS -->
            </div>
        </section>
    </main>

    <!-- BARRA INFERIOR -->
    <div class="bottom-nav">
        <a href="index.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span class="nav-label">Home</span>
        </a>
        
        <a href="catalogo.html" class="nav-item">
            <i class="fas fa-book-medical"></i>
            <span class="nav-label">Cat√°logo</span>
        </a>
        
        <a href="carrinho.html" class="nav-item active">
            <i class="fas fa-shopping-cart"></i>
            <span class="nav-label">Carrinho</span>
            <span class="badge" id="bottomCartCount">0</span>
        </a>
        
        <a href="conta.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span class="nav-label">Conta</span>
        </a>
        
        <a href="admin.html" class="nav-item">
            <i class="fas fa-cog"></i>
            <span class="nav-label">Admin</span>
        </a>
    </div>

    <script>
        // BANCO DE DADOS DE PRODUTOS
        const productDatabase = {
            // ENFERMAGEM GERAL
            'enf1': {
                id: 'enf1',
                titulo: 'Integra√ß√£o e Orienta√ß√µes Gerais',
                curso: 'enfermagem',
                ano: 1,
                semestre: 1,
                descricao_curta: 'Introdu√ß√£o √† profiss√£o de enfermagem, √©tica profissional e normas institucionais.',
                descricao_completa: `Este m√≥dulo oferece uma introdu√ß√£o abrangente √† profiss√£o de enfermagem, abordando aspectos hist√≥ricos, √©ticos e legais da pr√°tica profissional. Inclui orienta√ß√µes sobre normas institucionais, c√≥digos de conduta e expectativas profissionais.

                T√≥picos Principais:
                ‚Ä¢ Hist√≥ria e evolu√ß√£o da enfermagem
                ‚Ä¢ √âtica profissional e bio√©tica
                ‚Ä¢ Legisla√ß√£o em enfermagem
                ‚Ä¢ Normas e protocolos institucionais
                ‚Ä¢ Rela√ß√£o profissional-paciente
                ‚Ä¢ Sa√∫de e seguran√ßa no trabalho

                P√∫blico-Alvo: Estudantes do primeiro ano de enfermagem que est√£o iniciando sua jornada profissional.`,
                preco: 200,
                preco_desconto: 150,
                capa: 'üéì',
                downloads: 1245,
                avaliacao: 4.5,
                tags: ['introdu√ß√£o', '√©tica', 'orienta√ß√£o', 'hist√≥ria'],
                publicado: true,
                conteudo: [
                    'Hist√≥ria da Enfermagem',
                    '√âtica Profissional',
                    'Legisla√ß√£o em Sa√∫de',
                    'Normas Institucionais',
                    'Rela√ß√£o Profissional-Paciente',
                    'Seguran√ßa no Trabalho',
                    'Protocolos B√°sicos',
                    'Aspectos Legais'
                ],
                video_url: 'https://www.youtube.com/embed/exemplo_video',
                duracao_video: '45 minutos'
            },
            'enf2': {
                id: 'enf2',
                titulo: 'Ci√™ncias Biol√≥gicas I',
                curso: 'enfermagem',
                ano: 1,
                semestre: 1,
                descricao_curta: 'Anatomia e fisiologia humana b√°sica para enfermeiros.',
                descricao_completa: `M√≥dulo completo de anatomia e fisiologia humana, com foco nas estruturas e fun√ß√µes relevantes para a pr√°tica de enfermagem. Inclui ilustra√ß√µes detalhadas e estudos de caso cl√≠nicos.

                Conte√∫do Detalhado:
                ‚Ä¢ Sistema esquel√©tico
                ‚Ä¢ Sistema muscular
                ‚Ä¢ Sistema tegumentar
                ‚Ä¢ Terminologia anat√¥mica
                ‚Ä¢ Homeostase corporal
                ‚Ä¢ M√©todos de estudo anat√¥mico

                Recursos Inclu√≠dos:
                - Atlas anat√¥mico digital
                - Quiz de autoavalia√ß√£o
                - Estudos de caso pr√°ticos
                - Flashcards para revis√£o`,
                preco: 250,
                preco_desconto: 190,
                capa: 'ü¶¥',
                downloads: 1890,
                avaliacao: 4.7,
                tags: ['anatomia', 'biologia', 'fisiologia'],
                publicado: true,
                conteudo: [
                    'Sistema Esquel√©tico',
                    'Sistema Muscular',
                    'Terminologia Anat√¥mica',
                    'Homeostase',
                    'Tecidos Humanos',
                    'Ossos e Articula√ß√µes',
                    'M√∫sculos Principais',
                    'Avalia√ß√£o Cl√≠nica'
                ],
                video_url: 'https://www.youtube.com/embed/exemplo_video2'
            },
            'enf7': {
                id: 'enf7',
                titulo: 'Bases Cient√≠ficas para Pr√°tica de Enfermagem II',
                curso: 'enfermagem',
                ano: 1,
                semestre: 2,
                descricao_curta: 'Fundamentos de enfermagem: t√©cnicas b√°sicas, cuidados fundamentais.',
                descricao_completa: `M√≥dulo avan√ßado sobre as bases cient√≠ficas da pr√°tica de enfermagem, com √™nfase em t√©cnicas fundamentais e cuidados b√°sicos ao paciente. Inclui protocolos atualizados e pr√°ticas baseadas em evid√™ncias.

                T√©cnicas Abordadas:
                ‚Ä¢ Sinais vitais
                ‚Ä¢ Administra√ß√£o de medicamentos
                ‚Ä¢ Curativos e feridas
                ‚Ä¢ Posicionamento do paciente
                ‚Ä¢ Preven√ß√£o de infec√ß√µes
                ‚Ä¢ Documenta√ß√£o em enfermagem

                Componentes Pr√°ticos:
                - Demonstra√ß√µes em v√≠deo
                - Checklists de procedimentos
                - Simula√ß√µes cl√≠nicas
                - Avalia√ß√£o de compet√™ncias`,
                preco: 280,
                preco_desconto: 200,
                capa: 'ü©∫',
                downloads: 1950,
                avaliacao: 4.6,
                tags: ['t√©cnicas', 'cuidados', 'fundamentos'],
                publicado: true,
                conteudo: [
                    'Sinais Vitais',
                    'Administra√ß√£o de Medicamentos',
                    'T√©cnicas de Curativos',
                    'Posicionamento do Paciente',
                    'Higiene e Conforto',
                    'Preven√ß√£o de Infec√ß√µes',
                    'Documenta√ß√£o',
                    'Emerg√™ncias B√°sicas'
                ]
            },
            // ESMI
            'esmi7': {
                id: 'esmi7',
                titulo: 'Sa√∫de da Mulher em Idade Reprodutiva',
                curso: 'esmi',
                ano: 1,
                semestre: 2,
                descricao_curta: 'Cuidados espec√≠ficos para mulheres em idade reprodutiva.',
                descricao_completa: `M√≥dulo especializado em sa√∫de da mulher, abordando aspectos fisiol√≥gicos, psicol√≥gicos e sociais da sa√∫de reprodutiva. Foco em cuidados preventivos e promo√ß√£o da sa√∫de.

                √Åreas de Estudo:
                ‚Ä¢ Ciclo menstrual e fertilidade
                ‚Ä¢ Anticoncep√ß√£o e planejamento familiar
                ‚Ä¢ Sa√∫de sexual e reprodutiva
                ‚Ä¢ Rastreamento de c√¢ncer ginecol√≥gico
                ‚Ä¢ Sa√∫de mental da mulher
                ‚Ä¢ Nutri√ß√£o e estilo de vida

                Ferramentas Inclu√≠das:
                - Guia de aconselhamento
                - Protocolos de rastreamento
                - Materiais educativos
                - Formul√°rios de avalia√ß√£o`,
                preco: 280,
                preco_desconto: 220,
                capa: 'üë©',
                downloads: 1560,
                avaliacao: 4.7,
                tags: ['mulher', 'reprodutiva', 'sa√∫de'],
                publicado: true,
                conteudo: [
                    'Ciclo Menstrual',
                    'M√©todos Anticoncepcionais',
                    'Sa√∫de Sexual',
                    'Rastreamento Oncol√≥gico',
                    'Consulta Ginecol√≥gica',
                    'Sa√∫de Mental',
                    'Nutri√ß√£o Espec√≠fica',
                    'Preven√ß√£o de DSTs'
                ],
                video_url: 'https://www.youtube.com/embed/exemplo_video3'
            },
            'esmi8': {
                id: 'esmi8',
                titulo: 'Pr√°tica de Obstetr√≠cia e Neonatologia',
                curso: 'esmi',
                ano: 1,
                semestre: 2,
                descricao_curta: 'Cuidados obst√©tricos e neonatais especializados.',
                descricao_completa: `M√≥dulo abrangente sobre cuidados obst√©tricos e neonatais, desde o pr√©-natal at√© o p√≥s-parto. Baseado nas melhores pr√°ticas e evid√™ncias cient√≠ficas atuais.

                Componentes Principais:
                ‚Ä¢ Assist√™ncia ao pr√©-natal
                ‚Ä¢ Trabalho de parto e parto
                ‚Ä¢ Cuidados com o rec√©m-nascido
                ‚Ä¢ Complica√ß√µes obst√©tricas
                ‚Ä¢ Aleitamento materno
                ‚Ä¢ Cuidados p√≥s-parto

                Recursos Especiais:
                - Fluxogramas de conduta
                - Protocolos de emerg√™ncia
                - Guia de medicamentos
                - Avalia√ß√£o neonatal
                - Planos de cuidados`,
                preco: 320,
                preco_desconto: 250,
                capa: 'ü§±',
                downloads: 1950,
                avaliacao: 4.9,
                tags: ['obstetr√≠cia', 'neonatologia', 'parto'],
                publicado: true,
                conteudo: [
                    'Assist√™ncia Pr√©-Natal',
                    'Trabalho de Parto',
                    'Cuidados no Parto',
                    'Avalia√ß√£o Neonatal',
                    'Aleitamento Materno',
                    'Complica√ß√µes Obst√©tricas',
                    'Cuidados P√≥s-Parto',
                    'Rastreamento Neonatal'
                ],
                video_url: 'https://www.youtube.com/embed/exemplo_video4'
            }
        };

        // INICIALIZAR PRODUTO
        function initializeProduct() {
            // Obter ID do produto da URL
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            if (!productId || !productDatabase[productId]) {
                // Produto n√£o encontrado, redirecionar
                window.location.href = 'catalogo.html';
                return;
            }
            
            const produto = productDatabase[productId];
            
            // Atualizar breadcrumb
            document.getElementById('courseLink').href = `catalogo.html?curso=${produto.curso}`;
            document.getElementById('courseLink').textContent = produto.curso === 'enfermagem' ? 'Enfermagem' : 'ESMI';
            document.getElementById('productTitleShort').textContent = produto.titulo.substring(0, 30) + '...';
            
            // Atualizar imagem
            document.getElementById('productImage').innerHTML = produto.capa;
            
            // Atualizar badge se houver desconto
            if (produto.preco_desconto) {
                document.getElementById('productBadge').style.display = 'block';
                document.getElementById('priceOld').style.display = 'block';
                document.getElementById('priceSave').style.display = 'block';
                
                const economia = produto.preco - produto.preco_desconto;
                const percentual = Math.round((economia / produto.preco) * 100);
                document.getElementById('priceOld').textContent = `${produto.preco} MT`;
                document.getElementById('priceNew').textContent = `${produto.preco_desconto} MT`;
                document.getElementById('priceSave').textContent = `Economize ${economia} MT (${percentual}%)`;
            } else {
                document.getElementById('priceNew').textContent = `${produto.preco} MT`;
            }
            
            // Atualizar t√≠tulo e descri√ß√£o
            document.getElementById('productTitle').textContent = produto.titulo;
            document.getElementById('productDescriptionShort').textContent = produto.descricao_curta;
            document.getElementById('productDescriptionFull').innerHTML = produto.descricao_completa.replace(/\n/g, '<br><br>');
            
            // Atualizar meta informa√ß√µes
            document.getElementById('productRating').innerHTML = `
                <i class="fas fa-star"></i>
                <span>${produto.avaliacao}</span>
                <span class="rating-count">(${Math.floor(produto.downloads / 100) * 100}+ avalia√ß√µes)</span>
            `;
            
            document.getElementById('productDownloads').innerHTML = `
                <i class="fas fa-download"></i>
                <span>${produto.downloads.toLocaleString()} downloads</span>
            `;
            
            document.getElementById('productCourse').textContent = produto.curso === 'enfermagem' ? 'Enfermagem Geral' : 'ESMI';
            
            // Atualizar lista de conte√∫do
            const contentList = document.getElementById('contentList');
            if (produto.conteudo && produto.conteudo.length > 0) {
                contentList.innerHTML = produto.conteudo.map(item => `
                    <li class="content-item">
                        <i class="fas fa-check-circle"></i>
                        ${item}
                    </li>
                `).join('');
            } else {
                contentList.innerHTML = `
                    <li class="content-item">
                        <i class="fas fa-info-circle"></i>
                        Conte√∫do program√°tico em desenvolvimento
                    </li>
                `;
            }
            
            // Configurar v√≠deo se existir
            const videoContainer = document.getElementById('videoContainer');
            const videoPlaceholder = document.getElementById('videoPlaceholder');
            
            if (produto.video_url) {
                videoPlaceholder.innerHTML = `
                    <div style="text-align: center;">
                        <i class="fas fa-play-circle" style="font-size: 4rem; margin-bottom: 15px;"></i>
                        <p>Clique para assistir ao v√≠deo explicativo</p>
                        <small style="color: #64748b; margin-top: 10px;">Dura√ß√£o: ${produto.duracao_video || '30-45 minutos'}</small>
                    </div>
                `;
                
                videoPlaceholder.style.cursor = 'pointer';
                videoPlaceholder.onclick = () => {
                    videoContainer.innerHTML = `
                        <iframe 
                            width="100%" 
                            height="100%" 
                            src="${produto.video_url}" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen
                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: var(--radius);"
                        ></iframe>
                    `;
                };
            } else {
                videoPlaceholder.innerHTML = `
                    <i class="fas fa-video-slash" style="font-size: 4rem; margin-bottom: 15px;"></i>
                    <p>V√≠deo em produ√ß√£o</p>
                    <small style="color: #64748b; margin-top: 10px;">Dispon√≠vel em breve</small>
                `;
            }
            
            // Carregar produtos relacionados
            loadRelatedProducts(produto);
            
            // Configurar quantidade
            setupQuantity();
            
            // Configurar tabs
            setupTabs();
            
            // Configurar a√ß√µes dos bot√µes
            setupActions(produto);
        }

        // CARREGAR PRODUTOS RELACIONADOS
        function loadRelatedProducts(currentProduct) {
            const container = document.getElementById('relatedProducts');
            const produtos = Object.values(productDatabase);
            
            // Filtrar produtos relacionados (mesmo curso, diferente do atual)
            const relacionados = produtos
                .filter(p => 
                    p.id !== currentProduct.id && 
                    p.curso === currentProduct.curso &&
                    p.publicado
                )
                .slice(0, 4);
            
            if (relacionados.length > 0) {
                container.innerHTML = relacionados.map(produto => `
                    <div class="product-card" onclick="window.location.href='produto.html?id=${produto.id}'">
                        ${produto.preco_desconto ? '<span class="product-badge">PROMO</span>' : ''}
                        <div class="product-image">
                            ${produto.capa}
                        </div>
                        <h3 class="product-title" style="font-size: 1rem;">${produto.titulo}</h3>
                        <div class="product-meta">
                            <span>Sem ${produto.semestre}</span>
                        </div>
                        <div class="price-container" style="margin: 15px 0;">
                            ${produto.preco_desconto ? `
                                <span class="old-price" style="font-size: 0.9rem;">${produto.preco} MT</span>
                                <span class="new-price" style="font-size: 1.2rem;">${produto.preco_desconto} MT</span>
                            ` : `
                                <span class="new-price" style="font-size: 1.2rem;">${produto.preco} MT</span>
                            `}
                        </div>
                        <button class="btn-outline" onclick="event.stopPropagation(); window.location.href='produto.html?id=${produto.id}'">
                            <i class="fas fa-eye"></i> Ver Detalhes
                        </button>
                    </div>
                `).join('');
            } else {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #94a3b8;">
                        <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 15px;"></i>
                        <p>Nenhum produto relacionado encontrado</p>
                    </div>
                `;
            }
        }

        // CONFIGURAR QUANTIDADE
        function setupQuantity() {
            let quantidade = 1;
            const qtyDisplay = document.getElementById('quantity');
            const decreaseBtn = document.getElementById('decreaseQty');
            const increaseBtn = document.getElementById('increaseQty');
            
            const updateQuantity = () => {
                qtyDisplay.textContent = quantidade;
            };
            
            decreaseBtn.addEventListener('click', () => {
                if (quantidade > 1) {
                    quantidade--;
                    updateQuantity();
                }
            });
            
            increaseBtn.addEventListener('click', () => {
                if (quantidade < 10) {
                    quantidade++;
                    updateQuantity();
                }
            });
            
            // Salvar quantidade atual para uso posterior
            window.getCurrentQuantity = () => quantidade;
        }

        // CONFIGURAR TABS
        function setupTabs() {
            const tabHeaders = document.querySelectorAll('.tab-header');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const tabId = header.dataset.tab;
                    
                    // Remover active de todos
                    tabHeaders.forEach(h => h.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Adicionar active ao selecionado
                    header.classList.add('active');
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                });
            });
        }

        // CONFIGURAR A√á√ïES DOS BOT√ïES
        function setupActions(produto) {
            const addToCartBtn = document.getElementById('addToCartBtn');
            const buyNowBtn = document.getElementById('buyNowBtn');
            const shareBtn = document.getElementById('shareBtn');
            const wishlistBtn = document.getElementById('wishlistBtn');
            
            // Adicionar ao carrinho
            addToCartBtn.addEventListener('click', () => {
                addToCart(produto.id, window.getCurrentQuantity());
            });
            
            // Comprar agora
            buyNowBtn.addEventListener('click', () => {
                addToCart(produto.id, window.getCurrentQuantity());
                setTimeout(() => {
                    window.location.href = 'checkout.html';
                }, 500);
            });
            
            // Compartilhar
            shareBtn.addEventListener('click', async () => {
                const shareData = {
                    title: produto.titulo,
                    text: `Confira este e-book: ${produto.titulo}`,
                    url: window.location.href,
                };
                
                try {
                    if (navigator.share) {
                        await navigator.share(shareData);
                    } else {
                        // Fallback para copiar link
                        await navigator.clipboard.writeText(window.location.href);
                        showNotification('Link copiado para a √°rea de transfer√™ncia!', 'success');
                    }
                } catch (err) {
                    console.log('Erro ao compartilhar:', err);
                }
            });
            
            // Favoritar
            wishlistBtn.addEventListener('click', () => {
                let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                
                if (!wishlist.includes(produto.id)) {
                    wishlist.push(produto.id);
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    wishlistBtn.innerHTML = '<i class="fas fa-heart"></i> Favoritado';
                    wishlistBtn.classList.add('btn-primary');
                    wishlistBtn.classList.remove('btn-outline');
                    showNotification('Adicionado aos favoritos!', 'success');
                } else {
                    wishlist = wishlist.filter(id => id !== produto.id);
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    wishlistBtn.innerHTML = '<i class="fas fa-heart"></i> Favoritar';
                    wishlistBtn.classList.remove('btn-primary');
                    wishlistBtn.classList.add('btn-outline');
                    showNotification('Removido dos favoritos', 'info');
                }
            });
            
            // Verificar se j√° est√° favoritado
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            if (wishlist.includes(produto.id)) {
                wishlistBtn.innerHTML = '<i class="fas fa-heart"></i> Favoritado';
                wishlistBtn.classList.add('btn-primary');
                wishlistBtn.classList.remove('btn-outline');
            }
        }

        // FUN√á√ïES UTILIT√ÅRIAS
        function updateCartCount() {
            const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            const count = carrinho.reduce((total, item) => total + (item.quantidade || 1), 0);
            document.getElementById('cartCount').textContent = count;
            document.getElementById('bottomCartCount').textContent = count;
        }

        function addToCart(productId, quantidade) {
            let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            const produtoExistente = carrinho.find(item => item.id === productId);
            
            if (produtoExistente) {
                produtoExistente.quantidade += quantidade;
            } else {
                carrinho.push({
                    id: productId,
                    quantidade: quantidade,
                    added: new Date().toISOString()
                });
            }
            
            localStorage.setItem('carrinho', JSON.stringify(carrinho));
            updateCartCount();
            showNotification(`${quantidade} item(s) adicionado(s) ao carrinho!`, 'success');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#6366f1'};
                color: white;
                padding: 15px 25px;
                border-radius: var(--radius-small);
                display: flex;
                align-items: center;
                gap: 10px;
                z-index: 9999;
                animation: slideIn 0.3s ease-out;
                box-shadow: var(--shadow);
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
            
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // INICIALIZAR
        document.addEventListener('DOMContentLoaded', () => {
            initializeProduct();
            updateCartCount();
        });
    </script>
</body>
</html>
